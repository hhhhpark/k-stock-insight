import{_ as u,u as h,o as c,c as i,a as t,t as e,b as d,F as m,r as y}from"./index-dae80bfe.js";const _={name:"StockDetail",data(){return{stock:null,prices:[],loading:!0,error:null}},computed:{latestPrice(){return this.prices.length>0?this.prices[0]:null}},async mounted(){await this.fetchStockDetail()},methods:{async fetchStockDetail(){const l=h(),r=this.$route.params.ticker;this.loading=!0,this.error=null;try{const n=await l.getStockDetail(r);this.stock=n.stock,this.prices=n.recent_prices||[]}catch(n){console.error("종목 상세 조회 실패:",n),this.error="종목 정보를 불러오는데 실패했습니다."}finally{this.loading=!1}},formatNumber(l){return l?new Intl.NumberFormat("ko-KR").format(l):"0"}}},g={class:"container mx-auto px-4 py-8"},f={key:0,class:"flex justify-center items-center h-64"},k={key:1,class:"text-center py-8"},w={class:"text-red-600 mb-4"},b={key:2,class:"space-y-6"},v={class:"bg-white rounded-lg shadow p-6"},N={class:"flex items-center justify-between"},S={class:"text-3xl font-bold text-gray-900"},D={class:"text-gray-600"},B={key:0,class:"text-sm text-gray-500"},F={class:"text-right"},P={class:"text-2xl font-bold text-gray-900"},j={class:"text-sm text-gray-500"},C={class:"bg-white rounded-lg shadow p-6"},R={key:0,class:"overflow-x-auto"},V={class:"min-w-full divide-y divide-gray-200"},A={class:"bg-white divide-y divide-gray-200"},E={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},L={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"};function G(l,r,n,H,s,o){var x,p;return c(),i("div",g,[s.loading?(c(),i("div",f,r[1]||(r[1]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):s.error?(c(),i("div",k,[t("div",w,e(s.error),1),t("button",{onClick:r[0]||(r[0]=(...a)=>o.fetchStockDetail&&o.fetchStockDetail(...a)),class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"}," 다시 시도 ")])):s.stock?(c(),i("div",b,[t("div",v,[t("div",N,[t("div",null,[t("h1",S,e(s.stock.name),1),t("p",D,e(s.stock.ticker)+" • "+e(s.stock.market),1),s.stock.sector_name?(c(),i("p",B,e(s.stock.sector_name),1)):d("",!0)]),t("div",F,[t("div",P,e(o.formatNumber((x=o.latestPrice)==null?void 0:x.close))+"원 ",1),t("div",j,e((p=o.latestPrice)==null?void 0:p.date),1)])])]),t("div",C,[r[3]||(r[3]=t("h2",{class:"text-xl font-semibold mb-4"},"최근 주가 정보",-1)),s.prices.length>0?(c(),i("div",R,[t("table",V,[r[2]||(r[2]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"날짜"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"시가"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"고가"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"저가"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"종가"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"거래량")])],-1)),t("tbody",A,[(c(!0),i(m,null,y(s.prices,a=>(c(),i("tr",{key:a.date},[t("td",E,e(a.date),1),t("td",I,e(o.formatNumber(a.open)),1),t("td",K,e(o.formatNumber(a.high)),1),t("td",L,e(o.formatNumber(a.low)),1),t("td",q,e(o.formatNumber(a.close)),1),t("td",z,e(o.formatNumber(a.volume)),1)]))),128))])])])):d("",!0)])])):d("",!0)])}const M=u(_,[["render",G]]);export{M as default};
//# sourceMappingURL=StockDetail-2c682d4d.js.map
