# 📊 K-Stock Insight PRD

## 🧩 프로젝트 개요

`K-Stock Insight`는 한국 주식 시장(KRX)을 기반으로 한 **데이터 분석 및 종목 발굴 툴**입니다.  
작전주/세력주 등 시장에서 특이 패턴을 보이는 종목을 장기적으로 추적, 분류, 모델링하여  
**추천 종목, 매수/매도 타이밍, 근거 분석**을 제공하는 것을 목표로 합니다.

---

## 🎯 주요 목표

- ✅ 주식 시장 데이터 자동 수집 및 DB 저장 (일별 업데이트) - **완료**
- ✅ 데이터 조회 및 검색 기능 구현 - **완료**
- ⏳ 작전주 또는 이상 종목 DB 수집/정리 - **진행 중**
- ⏳ 특정 조건/룰 기반의 종목 검색 기능 - **계획**
- ⏳ 작전주 패턴 학습을 통한 ML 모델링 - **계획**
- ⏳ 매수/매도 타이밍 분석 및 근거 제시 - **계획**

---

## 🛠️ 기능 구성

### 1. ✅ 데이터 수집 (완료)
- ✅ pykrx 기반 일별 주가, 거래량, 투자자 정보 자동 수집
- ✅ ETF, 섹터, 지수, 투자 주체별 매매 동향 포함
- ✅ 자동 업데이트 스크립트 (data_updater.py)
- ✅ 초기 데이터 구성 스크립트 (data_collector.py)

**수집된 데이터 현황 (2025년 1월 기준):**
- 종목 수: 2,761개 (KOSPI + KOSDAQ)
- 일별 시세: 276,647개 레코드
- 투자자 동향: 2,105개 레코드  
- 업종별 시세: 4,949개 레코드
- 수집 기간: 2025-01-02 ~ 2025-06-04

### 2. ✅ 데이터 조회 시스템 (완료)
- ✅ 웹 기반 대시보드 (Vue3 + FastAPI)
- ✅ 종목 검색 및 필터링
- ✅ 실시간 데이터베이스 상태 모니터링
- ✅ 거래량 상위 종목 표시
- ✅ 투자자 순매수 상위 종목 표시

### 3. ⏳ 작전주 분류 (계획)
- 수작업 + 패턴 기반 작전주 DB 정리
- 거래량 급등, 상한가 반복, 외국인 순매수 패턴 등

### 4. ⏳ 조건 탐색기 (Rule Engine) (계획)
- 사용자가 원하는 조건 입력 → 종목 필터링
  - 예: "3일 연속 상한가 + 외국인 순매수 > 10억"

### 5. ⏳ 이상 종목 탐지 및 모델링 (계획)
- 라벨링된 작전주 데이터를 학습
- 유사 패턴이 발생한 종목을 탐지

### 6. ⏳ 추천 시스템 (계획)
- 조건 기반 종목 추천
- 추천 사유 및 기대 이벤트 설명
- 예상 진입 시점/시나리오 제공

---

## 🗂️ 현재 구현된 시스템 아키텍처

```bash
k-stock-insight/
├── frontend/                 # ✅ Vue 3 웹 앱 (완료)
│   ├── src/
│   │   ├── views/           # 페이지 컴포넌트
│   │   │   ├── Dashboard.vue # 메인 대시보드
│   │   │   └── Stocks.vue   # 종목 검색
│   │   ├── components/      # 재사용 컴포넌트
│   │   ├── stores/          # Pinia 상태 관리
│   │   └── router/          # Vue Router 설정
├── backend/                  # ✅ FastAPI 서버 (완료)
│   ├── main.py             # API 서버 메인
│   └── requirements.txt    # Python 의존성
├── db/                      # ✅ 데이터베이스 (완료)
│   └── schema.sql          # 통합 스키마 정의
├── scripts/                 # ✅ 데이터 수집 (완료)
│   ├── data_collector.py   # 초기 데이터 구성
│   ├── data_updater.py     # 일일 업데이트
│   └── func_description.md # 스크립트 사용법
├── .gitignore              # ✅ Git 설정 (완료)
├── prd.md                  # 📋 프로젝트 문서 (본 파일)
└── README.md
```

---

## 🚀 실행 방법

### 1. 백엔드 서버 실행
```bash
cd backend
pip install -r requirements.txt
python main.py
```
**접속**: http://localhost:8000

### 2. 프론트엔드 서버 실행  
```bash
cd frontend
npm install
npm run dev
```
**접속**: http://localhost:5173

### 3. 데이터 업데이트
```bash
# 일일 업데이트 (매일 실행 권장)
python scripts/data_updater.py
```

---

## 📈 다음 단계 개발 계획

### Phase 2: 고급 분석 기능 (2025년 2월)
- [ ] 종목 상세 페이지 구현
- [ ] 차트 시각화 (Chart.js)
- [ ] 투자자 동향 분석 페이지
- [ ] 섹터별 분석 대시보드

### Phase 3: 조건 검색 시스템 (2025년 3월)
- [ ] 사용자 정의 조건 검색
- [ ] 기술적 지표 계산
- [ ] 패턴 매칭 알고리즘

### Phase 4: AI/ML 모델링 (2025년 4월~)
- [ ] 작전주 패턴 학습
- [ ] 이상 거래 탐지
- [ ] 추천 시스템 구축

---

## 🔧 기술 스택

### 프론트엔드
- **Vue.js 3** - 컴포지션 API
- **Tailwind CSS** - 유틸리티 우선 CSS
- **Pinia** - 상태 관리
- **Chart.js** - 차트 라이브러리
- **Axios** - HTTP 클라이언트

### 백엔드  
- **FastAPI** - 고성능 Python 웹 프레임워크
- **PostgreSQL** - 관계형 데이터베이스
- **pykrx** - 한국거래소 데이터 API

### 데이터 수집
- **pykrx** - KRX 공식 API 래퍼
- **pandas** - 데이터 처리
- **psycopg2** - PostgreSQL 드라이버
